/*
 * Func_prog.c
 *
 *  Created on: Sep 6, 2023
 *      Author: Abdelrahman
 */

#ifndef APP_FUNC_PROG_C_
#define APP_FUNC_PROG_C_

#include "Func_main.h"



u16 GetNumber()
{
	u16 L_Number=0;
	u8 L_PressedKey=0;

	L_PressedKey=HKPD_u8GetPressedKey();
	while(L_PressedKey == '*' || L_PressedKey == '#' )
	{
		L_PressedKey=HKPD_u8GetPressedKey();
	}
	HLCD_VoidSendData(L_PressedKey);
	L_Number = (L_PressedKey-'0')*1000;


	L_PressedKey=HKPD_u8GetPressedKey();
	while(L_PressedKey == '*' || L_PressedKey == '#' )
	{
		L_PressedKey=HKPD_u8GetPressedKey();
	}
	HLCD_VoidSendData(L_PressedKey);
	L_Number += ((L_PressedKey-'0')*100);

	L_PressedKey=HKPD_u8GetPressedKey();
	while(L_PressedKey == '*' || L_PressedKey == '#' )
	{
		L_PressedKey=HKPD_u8GetPressedKey();
	}
	HLCD_VoidSendData(L_PressedKey);
	L_Number += ((L_PressedKey-'0')*10);


	L_PressedKey=HKPD_u8GetPressedKey();
	while(L_PressedKey == '*' || L_PressedKey == '#' )
	{
		L_PressedKey=HKPD_u8GetPressedKey();
	}
	HLCD_VoidSendData(L_PressedKey);
	L_Number += (L_PressedKey-'0');

	return L_Number;
}

u8 CheckID()
{
	u16 L_ID, id1=1234, id2=5678, id3=7891;

	HLCD_VoidClear();
	HLCD_VoidSendString("Please enter ID:");
	HLCD_VoidCursor(0,LINE1);
	L_ID=GetNumber();

	if		( L_ID==id1 )	{	return 1;	}
	else if	( L_ID==id2 )	{	return 2;	}
	else if ( L_ID==id3 )	{	return 3;	}
	else
	{
		_delay_ms(500);
		HLCD_VoidClear();
		HLCD_VoidSendString("Wrong ID");
		_delay_ms(1500);

		return 0;
	}

}
u8 CheckPassword( u8 A_Bool )
{
	u16 pass1=4321 /* Ahmed  */	,
		pass2=8765 /*  Nour  */	,
		pass3=1987 /* Khaled */ ;

	u16 L_Pass;

	HLCD_VoidClear();
	HLCD_VoidSendString("Enter Password:");
	HLCD_VoidCursor(0,LINE1);
	L_Pass=GetNumber();

	if		(A_Bool == 1 && L_Pass==pass1 )	{	return 1;	}
	else if	(A_Bool == 2 && L_Pass==pass2 )	{	return 2;	}
	else if (A_Bool == 3 && L_Pass==pass3 )	{	return 3;	}
	else
	{
		HLCD_VoidClear();
		HLCD_VoidSendString("Wrong password");

		_delay_ms(1000);

		return 0;
	}


}


#endif /* APP_FUNC_PROG_C_ */
